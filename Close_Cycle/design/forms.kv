Screen:
    spacing: dp(8)
    orientation: 'horizontal'
    canvas.before:
        Color:
            rgba: rgba('#ffffff')
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols: 3
        # Navigation Menu Left + Forms
        BoxLayout:
            id: nav_menu
            size_hint_x: .2
            orientation: 'vertical'
            padding: dp(8)
            spacing: dp(8)
            canvas.before:
                Color:
                    #Add orange color base
                    rgba: rgba('#EEE0FF')
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                id: logo_nbox
                size_hint: 1, None
                size_hint_y: .2
                orientation: 'vertical'
                padding: ('10dp', '8dp', '12dp', '8dp')
                spacing: dp(8)
                BoxLayout:
                    anchor_x: 'right'
                    # size_hint_x: None
                    # width: .5 * self.parent.width
                    size_hint_y: .1
                    height: dp(50)
                    BoxLayout:
                        MDLabel:
                            text: 'Facultad de Ing Mecánica'
                            color: rgba('#000000')
                            halign: "center"
                            texture_size: self.size

                BoxLayout:
                    id: entry_form
                    orientation: 'vertical'
                    padding: ('20dp', '20dp', '20dp', '20dp')
                    spacing: dp(11)
                    size_hint_y: .7
                    # height: dp(50)
                    # canvas.before:
                    #     Color:
                    #         rgba: rgba('#e1Feea')
                    #     Rectangle:
                    #         pos: self.pos
                    #         size: self.size
                    MDLabel:
                        text: "Datos de entrada"
                        halign: "center"
                        theme_text_color: "Custom"
                        text_color: rgba('#000000')
                        font_style: "H5"  # Ajusta el tamaño del texto según tus necesidades
                        font_name: 'Roboto-Bold'
                    MDTextField:
                        id:p1
                        height: .13 * self.parent.height
                        icon_left: "thermometer"
                        hint_text: "Presión en el condensador kPa"
                        hint_text_font_size: "500sp"
                        icon_left_color_focus: "orange"
                        mode: "rectangle"
                        helper_text: "Min 3 - Max :30 "
                        helper_text_mode: "on_focus"
                        # max_text_length: 2
                        input_filter: "float"
                        error_color: 1, 0, 0, 1
                    MDTextField:
                        id:p2
                        mode: "rectangle"
                        width: "250dp"
                        height: .13 * self.parent.height
                        font_size: "15sp" 
                        icon_left: "car-brake-low-pressure"
                        hint_text: "Presión de entrada de la turbina kPa"
                        icon_right_color_focus: "orange"
                        # max_text_length: 5
                        input_filter: "float"
                        error_color: 1, 0, 0, 1  # Rojo
                        helper_text: "Min 2000 - Max :36000 "
                        helper_text_mode: "on_focus"
                    MDTextField:
                        id:p3
                        mode: "rectangle"
                        width: "250dp"
                        height: .13 * self.parent.height
                        font_size: "15sp" 
                        icon_left: "engine-outline"
                        hint_text: "Presión de extracción kPa"
                        icon_right_color_focus: "orange"
                        # max_text_length: 5
                        input_filter: "float"
                        helper_text: "Min 1000 - Max :22000 "
                        helper_text_mode: "on_focus"
                    MDTextField:
                        id:t6
                        mode: "rectangle"
                        width: "245dp"
                        height: .13 * self.parent.height
                        font_size: "15sp" 
                        icon_left: "hvac"
                        hint_text: "Temperatura en la salida de la caldera / entrada"
                        icon_right_color_focus: "orange"
                        # max_text_length: 3
                        input_filter: "float"
                        helper_text: "Min 200 - Max :800 "
                        helper_text_mode: "on_focus"
                    MDTextField:
                        id:nb
                        mode: "rectangle"
                        width: "250dp"
                        height: .13 * self.parent.height
                        font_size: "15sp" 
                        icon_left: "dots-circle"
                        hint_text: "Eficiencia de la bomba %"
                        icon_right_color_focus: "red"
                        helper_text: "Min 0.2 - Max :1"
                        helper_text_mode: "on_focus"
                    MDTextField:
                        id:nt
                        mode: "rectangle"
                        height: .13 * self.parent.height
                        hint_text_size: "5sp"
                        icon_left: "dots-square"
                        hint_text: "Eficiencia de la turbina %"
                        font_size: "15sp"
                        icon_right_color_focus: "red"
                        helper_text: "Min 0.2 - Max :1"
                        helper_text_mode: "on_focus"


                BoxLayout:
                    id: buttons
                    padding: ('20dp', '8dp', '12dp', '8dp')
                    spacing: dp(11)
                    size_hint: None, None
                    size_hint_y: .1
                    # size: dp(300), dp(50)
                    halign: "right"
                    MDRaisedButton:
                        text: "Calcular"
                        md_bg_color: "orange"
                        size_hint: None, None  # Desactiva el ajuste automático del tamaño
                        size: "170dp", "50dp"
                        text_color: "white"
                        halign: "right"
                        # elevation: 3 #Shadow 
                        shadow_radius: 10
                        shadow_color: 1, 0.5, 0, 0.8
                        on_press:app.resolve()

                    MDRectangleFlatButton:
                    # MDRaisedButton:
                        text: "Reiniciar"
                        theme_text_color: "Custom"
                        text_color: "black"
                        line_color: "orange"
                        text_color:"black"
                        size_hint: None, None  # Desactiva el ajuste automático del tamaño
                        size: "170dp", "50dp"
                        shadow_radius: 10
                        shadow_color: 1, 0.5, 0, 0.8
                        on_press:app.clear()

        # Main Content
        BoxLayout:
            size_hint_x: .5
            spacing: dp(12)
            orientation: 'vertical'
            padding: ('15dp', '15dp', '15dp', '15dp')
            # canvas.before:
            #     Color:
            #         rgba: rgba('#AECCAA')
            #     Rectangle:
            #         pos: self.pos
            #         size: self.size
            BoxLayout:
                size_hint_x: .9
                size_hint_y: .1
                width: dp(50)
                # pos_hint: {"center_x": .50, "center_y": .3}
                elevation: 12 #Shadow
                # padding: ('25dp', '25dp', '0dp', '0dp')
                spacing:40
                orientation: 'vertical'
                style:"filled"
                # md_bg_color: "#FEF3C5"
                shadow_color: 1, 0.5, 0, 0.8
                shadow_softness: 12
                shadow_offset: 0, 1
                orientation: 'horizontal'
                # canvas.before:
                #     Color:
                #         rgba: rgba('#FECCAA')
                #     Rectangle:
                #         pos: self.pos
                #         size: self.size
                BoxLayout:
                    size_hint:1 , None
                    size_hint_y: .3
                    id: logo_box
                    orientation: 'vertical'
                    spacing: dp(5)
                    # canvas.before:
                    #     Color:
                    #         rgba: rgba('#F8C8EF')
                    #     Rectangle:
                    #         pos: self.pos
                    #         size: self.size
                    MDLabel:
                        id:Data_input_label
                        text: "Ciclo Ideal Rankine"
                        font_size: 40
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 3
                        halign: "left"
                        theme_text_color: "Custom"
                        text_color: rgba('#FFA500')
                        font_style: "H4"  # Ajusta el tamaño del texto según tus necesidades
                        font_name: 'Roboto-Bold'
                    MDLabel:
                        text: 'Calentador cerrado de agua de alimentación y recalentamiento'
                        halign: "left"
                        theme_text_color: "Custom"
                        text_color: rgba('#000000')
                        font_style: "Caption"  # Ajusta el tamaño del texto según tus necesidades
                        font_name: 'Roboto-Regular'
                        font_size:13
                        font_letter_spacing: 1.5
            BoxLayout:
                size_hint_y: 1
                orientation: 'vertical'
                spacing: dp(5)
                # canvas.before:
                #     Color:
                #         rgba: rgba('#C8F8EF')
                #     Rectangle:
                #         pos: self.pos
                #         size: self.size
                BoxLayout:
                    id:draw_card
                    size_hint_x: .9
                    pos_hint: {"center_x": .50, "center_y": .8}
                    elevation: 2 #Shadow
                    # padding: ('25dp', '25dp', '25dp', '25dp')
                    # spacing:40
                    orientation: 'vertical'
                    style:"filled"
                    # md_bg_color: "#FEF3C5"
                    shadow_color: 1, 0.5, 0, 0.8
                    shadow_softness: 12
                    shadow_offset: 0, 1
                    BoxLayout:
                        orientation: 'vertical'
                        id: main_box  # Asigna un ID al BoxLayout principal
                        LineDrawer:
                            id: line_drawer  # Asigna un ID al LineDrawer
                            pos_hint: {'center_x': .6, 'center_y': .6}
                        # Image:
                        #     source:'../images/Ciclo_rakine_1.png'
                        #     # Reemplaza con la ruta de tu imagen
                        #     size_hint: None,None
                        #     size:500, 800  # Ajusta estos valores según tus necesidades
                        #     pos_hint: {'center_x': .45, 'center_y': .45}
                        #     border: 5, 5, 5, 5  # Ajusta estos valores según el ancho del borde que desees
                        #     #Add border 
                        #     canvas.before:
                        #         Color:
                        #             rgba: rgba('#aaaaaa')
                        #         Line:
                        #             width: 2
                        #             rectangle: (self.parent.x-30,  self.parent.y, self.parent.width, self.parent.height-25)
            #Col 3 Results cards
        BoxLayout:
            size_hint_x: .2
            spacing: dp(8)
            orientation: 'vertical'
            padding: ('10dp', '8dp', '12dp', '8dp')
            canvas.before:
                Color:
                    rgba: rgba('#EEE0FF')
                Rectangle:
                    pos: self.pos
                    size: self.size
            MDLabel:
                id:Data_input_label
                text: "Resultados"
                font_size: 60
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 40
            MDCard:
                size_hint_x: .9
                size_hint_y: None
                height: .15 * self.parent.height
                pos_hint: {"center_x": .50, "center_y": .8}
                elevation: 0.5 #Shadow
                padding: ('25dp', '25dp', '25dp', '25dp')
                spacing:2
                orientation: 'horizontal'
                border_radius: 20
                border_color: 1, 0.5, 0, 0.8
                MDFloatingActionButton:
                    icon:"pencil"
                    icon_center_x: 0.5
                    theme_icon_color:"Custom"
                    md_bg_color:"#FED180"
                    elevation_normal: 12
                    type:"small"
                    text_color: "orange"
                    halign: "center"
                    elevation: 3 #Shadow 
                    shadow_radius: 10
                    shadow_color: 1, 0.5, 0, 0.8
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(2)
                    padding: ('10dp', '0dp', '0dp', '0dp')
                    MDLabel:
                        id:Data_input_label
                        text: "Trabajo Neto"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:trabajo_neto
                        text: "2453"
                        font_size: 25
                        halign: "left"
                        font_name: 'Roboto-Bold'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:Data_input_label
                        text: "kJ/kg"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(2)
                    padding: ('10dp', '0dp', '0dp', '0dp')
                    MDLabel:
                        id:Data_input_label
                        text: "Eficiencia Térmica"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:eficiencia_termica_result
                        text: "2453"
                        font_size: 25
                        halign: "left"
                        font_name: 'Roboto-Bold'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:Data_input_label
                        text: "%"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
            MDCard:
                size_hint_x: .9
                size_hint_y: None
                height: .15 * self.parent.height
                pos_hint: {"center_x": .50, "center_y": .8}
                elevation: 0.5 #Shadow
                padding: ('25dp', '25dp', '25dp', '25dp')
                spacing:2
                orientation: 'horizontal'
                border_radius: 20
                border_color: 1, 0.5, 0, 0.8
                MDFloatingActionButton:
                    icon:"pencil"
                    icon_center_x: 0.5
                    theme_icon_color:"Custom"
                    md_bg_color:"#FED180"
                    elevation_normal: 12
                    type:"small"
                    text_color: "orange"
                    halign: "center"
                    elevation: 3 #Shadow 
                    shadow_radius: 10
                    shadow_color: 1, 0.5, 0, 0.8
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(2)
                    padding: ('10dp', '0dp', '0dp', '0dp')
                    MDLabel:
                        id:Data_input_label
                        text: "y"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:y_result
                        text: "2453"
                        font_size: 25
                        halign: "left"
                        font_name: 'Roboto-Bold'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:Data_input_label
                        text: ""
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(2)
                    padding: ('10dp', '0dp', '0dp', '0dp')
                    MDLabel:
                        id:Data_input_label
                        text: "y-1"
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:y_1_result
                        text: "2453"
                        font_size: 25
                        halign: "left"
                        font_name: 'Roboto-Bold'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
                    MDLabel:
                        id:Data_input_label
                        text: ""
                        font_size: 12
                        halign: "left"
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding_y: 0
            MDCard:
                size_hint_x: .9
                size_hint_y: .6
                pos_hint: {"center_x": .50, "center_y": .8}
                elevation: 0.5  # Shadow
                padding: ('25dp', '25dp', '25dp', '25dp')
                spacing: 10
                orientation: 'vertical'

                MDLabel:
                    text: "Entalpias"
                    id: Data_input_label
                    font_size: 25
                    halign: "center"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 15

                BoxLayout:
                    orientation: 'vertical'
                    spacing: 5
                    padding: 10

                    # Show enthalpies from 1 to 9 with labels
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H1:"
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h1_valor
                            text: "Valor h1"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H2 : "
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h2_valor
                            text: "valor_H2"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H3: "
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h3_valor
                            text: "Valor_H3"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H4:"
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h4_valor
                            text: "Valor h4"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H5 : "
                            font_size: 20
                            halign: "left"

                        MDLabel:
                            id: h5_valor
                            text: "Valor h5"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H6 :"
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h6_valor
                            text: "H6 valor"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H7 : "
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h7_valor
                            text: "valor h7"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H8 :"
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h8_valor
                            text: "Valor h8"
                            font_size: 20
                            halign: "center"
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 5
                        padding: 10
                        MDLabel:
                            text: "H9 : "
                            font_size: 20
                            halign: "left"
                        MDLabel:
                            id: h9_valor
                            text: "Valor H9 "
                            font_size: 20
                            halign: "center"